<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.9.0">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta name="keywords" content="网络配置之大型综合实验2, z1r0s 安全 Web安全 学习总结">
    <meta name="description" content="计算机 | 程序语言 | 网络安全 | 红蓝对抗">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>网络配置之大型综合实验2 | z1r0s&#39;blogs</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>



   <style>
    body{
       background-image: url(/medias/bg.jpg);
       background-repeat:no-repeat;
       background-size:cover;
       background-attachment:fixed;
    }
</style>



<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">z1r0s&#39;blogs</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">z1r0s&#39;blogs</div>
        <div class="logo-desc">
            
            计算机 | 程序语言 | 网络安全 | 红蓝对抗
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/z1r0s" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/z1r0s" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/18.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">网络配置之大型综合实验2</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/网络实验/">
                                <span class="chip bg-color">网络实验</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/网络配置/" class="post-category">
                                网络配置
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-11-29
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2020-11-29
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    3.8k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    19 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="实验拓扑"><a href="#实验拓扑" class="headerlink" title="实验拓扑"></a>实验拓扑</h1><center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/实验拓扑.png" alt="实验拓扑"></center>



<h1 id="实验要求"><a href="#实验要求" class="headerlink" title="实验要求"></a>实验要求</h1><p>全局要求：</p>
<ol>
<li><p>网络规划，可用网段：192.168.1.0/24</p>
</li>
<li><p>通过rip协议实现全网通</p>
</li>
<li><p>所有的网络设备必须命名 vlan命名</p>
</li>
<li><p>网关设备可以不可以telnet只可以ssh远程访问</p>
</li>
<li><p>三层交换机可以telnet 也可以ssh</p>
</li>
<li><p>实现hsrp +STP的负载均衡和双机热备</p>
</li>
</ol>
<p>天津部要求：</p>
<ol>
<li><p>tj-r做DHCP分配内网IP</p>
</li>
<li><p>单笔路由实现跨vlan通信</p>
</li>
<li><p>二层交换机只可以被admin telnet其他的不可以远程</p>
</li>
<li><p>路由器只可以ssh远程管理不可以telnet</p>
</li>
<li><p>拒绝vlan200访问ISP的web和DNS，允许访问FTP</p>
</li>
<li><p>允许vlan300的主机访问ftp web和DNS（<code>www.bihuo.com</code>）</p>
</li>
<li><p>允许other-A访问pingweb服务器和DNS服务器不让访问其他服务</p>
</li>
<li><p>没有涉及到的服务都可以访问 </p>
</li>
</ol>
<p>北京部要求：</p>
<ol>
<li><p>HSRP+STP实现双机热备负载均衡</p>
</li>
<li><p>有DHCP服务器为其他的所有主机分配IP地址</p>
</li>
<li><p>允许adminvlan访问服务器的所有协议，</p>
</li>
<li><p>允许vlan otherA访问FTP服务，拒绝访问web服务</p>
</li>
<li><p>拒绝other-B访问FTP 服务，</p>
</li>
<li><p>只有admin可以ping 其他主机都不可以ping服务器</p>
</li>
<li><p>允许vlan10 vlan20 通过<code>www.bihuo.com</code>访问Web服务器</p>
</li>
</ol>
<h1 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h1><h2 id="0x01-子网划分"><a href="#0x01-子网划分" class="headerlink" title="0x01 子网划分"></a>0x01 子网划分</h2><ol>
<li><p>查拓扑各网络，判断需要14个子网，将<code>192.168.1.0</code>划分出4位进行子网划分，划分结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/IP网段划分.png" alt="IP网段划分"></center>
</li>
<li><p>接着将划分好的网段标注在各个网段中，以便清楚的显示个网段被划分的子网情况，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/子网划分.png" alt="子网划分"></center>

</li>
</ol>
<h2 id="0x02-基础网络配置"><a href="#0x02-基础网络配置" class="headerlink" title="0x02 基础网络配置"></a>0x02 基础网络配置</h2><ol>
<li><p>对DMZ-server区服务器的IP配置，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/DMZ-server配置IP.png" alt="DMZ-server配置IP"></center>
</li>
<li><p>对DMZ-server区服务器配置Web服务，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/DMZ-server配置Went.png" alt="DMZ-server配置Went"></center>
</li>
<li><p>对DMZ-server区服务器配置DHCP服务，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/DMZ-server配置DHCP.png" alt="DMZ-server配置DHCP"></center>
</li>
<li><p>对DMZ-server区服务器配置FTP服务，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/DMZ-server配置FTP.png" alt="DMZ-server配置FTP"></center>
</li>
<li><p>对ISP-Web服务器配置IP，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/ISP-Web配置IP.png" alt="ISP-Web配置IP"></center>
</li>
<li><p>对ISP-Web服务器配置Web服务，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/ISP-Web配置Web.png" alt="ISP-Web配置Web"></center>
</li>
<li><p>对ISP-DNS服务器配置IP，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/ISP-DNS配置IP.png" alt="ISP-DNS配置IP"></center>
</li>
<li><p>对ISP-DNS服务器配置DNS服务，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/ISP-DNS配置DNS .png" alt="ISP-DNS配置DNS "></center>
</li>
<li><p>对 ISP-FTP服务器配置IP，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/ISP-FTP配置IP.png" alt="ISP-FTP配置IP"></center>
</li>
<li><p>对ISP-FTP服务器配置FTP服务，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/ISP-FTP配置FTP.png" alt="ISP-FTP配置FTP"></center>
</li>
<li><p>tj-sw-zuo基础配置，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/tj-sw-zuo基础配置.png" alt="tj-sw-zuo基础配置"></center>
</li>
<li><p>tj-sw-you基础配置，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/tj-sw-you基础配置.png" alt="tj-sw-you基础配置"></center>
</li>
<li><p>tj-R基础配置，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/tj-R基础配置.png" alt="tj-R基础配置"></center>
</li>
<li><p>ISP-B基础配置，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/ISP-B基础配置.png" alt="ISP-B基础配置"></center>
</li>
<li><p>ISP-B-DHCP-server基础配置，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/ISP-BDHCP-server基础配置.png" alt="ISP-BDHCP-server基础配置"></center>
</li>
<li><p>ISP-A基础配置，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/ISP-A基础配置.png" alt="ISP-A基础配置"></center>
</li>
<li><p>bj-R基础配置，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/bj-R基础配置.png" alt="bj-R基础配置"></center>
</li>
<li><p>3sw-zuo基础配置，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/3sw-zuo基础配置.png" alt="3sw-zuo基础配置"></center>
</li>
<li><p>3sw-you基础配置，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/3sw-you基础配置.png" alt="3sw-you基础配置"></center>
</li>
<li><p>2sw-zuo基础配置，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/2sw-zuo基础配置.png" alt="2sw-zuo基础配置"></center>
</li>
<li><p>2sw-you基础配置，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/2sw-you基础配置.png" alt="2sw-you基础配置"></center>
</li>
<li><p>阶段性结果检查，bj-admin-A访问<code>www.bihuo.com</code>，显示结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/bj-admin-A连通性检测.png" alt="bj-admin-A连通性检测"></center>

<p>bj-admin-A检测与tj-server的连通性，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/bj-admin-A检测与tj-server的连通性.png" alt="bj-admin-A检测与tj-server的连通性"></center>

<p>其他连通性也使用类似的方式进行检测，检测结果全网设备互通。</p>
</li>
</ol>
<h2 id="0x03-远程管理配置"><a href="#0x03-远程管理配置" class="headerlink" title="0x03 远程管理配置"></a>0x03 远程管理配置</h2><ol>
<li><p>配置tj-sw-zuo交换机的远程管理，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/tj-sw-zuo配置远程管理.png" alt="tj-sw-zuo配置远程管理"></center>
</li>
<li><p>配置tj-sw-you交换机的远程管理，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/tj-sw-you配置远程管理.png" alt="tj-sw-you配置远程管理"></center>
</li>
<li><p>配置tj-R路由器的远程管理，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/tj-R配置远程管理.png" alt="tj-R配置远程管理"></center>
</li>
<li><p>配置bj-R路由器的远程管理，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/bj-R配置远程管理.png" alt="bj-R配置远程管理"></center>
</li>
<li><p>配置3sw-zuo交换机的远程管理，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/3sw-zuo配置远程管理.png" alt="3sw-zuo配置远程管理"></center>
</li>
<li><p>配置3sw-you交换机的远程管理，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/3sw-you配置远程管理.png" alt="3sw-you配置远程管理"></center>
</li>
<li><p>远程管理配置完毕之后，先进行一下测试，首先使用bj-admin-A以ssh方式远程管理bj-R，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/bj-R的SSH管理.png" alt="bj-R的SSH管理"></center>

<p>接着使用bj-admin-A以telnet方式远程管理bj-R，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/bj-R的telent方式.png" alt="bj-R的telent方式"></center>

<p>最后使用bj-admin-A以ssh方式远程管理3sw-zuo，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/3sw-zuo的ssh管理.png" alt="3sw-zuo的ssh管理"></center>

<p>其他远程管理也依据上例进行测试，测试结果符合实验要求。</p>
</li>
</ol>
<h2 id="0x04-ACL配置"><a href="#0x04-ACL配置" class="headerlink" title="0x04 ACL配置"></a>0x04 ACL配置</h2><ol>
<li><p>在tj-sw-zuo交换机上进行ACL配置，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/tj-sw-zuo上的ACL配置.png" alt="tj-sw-zuo上的ACL配置"></center>
</li>
<li><p>在tj-sw-you交换机上进行ACL配置，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/tj-sw-you上的ACL.png" alt="tj-sw-you上的ACL"></center>
</li>
<li><p>在tj-R路由器上进行ACL配置，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/tj-R上配置ACL.png" alt="tj-R上配置ACL"></center>
</li>
<li><p>在bj-R路由器上进行ACL配置，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/在bj-R上配置ACL.png" alt="在bj-R上配置ACL"></center>

</li>
</ol>
<h1 id="实验结果"><a href="#实验结果" class="headerlink" title="实验结果"></a>实验结果</h1><p>实验完成对按照实验要求进行验证。</p>
<ol>
<li><p>假设3sw-zuo的<code>f0/4</code>接口意外故障，则使用<code>bj-admin-A</code>访问<code>www.bihuo.com</code>理论上是依然可以的，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/bj-admin-A测试到外网的连通性.png" alt="bj-admin-A测试到外网的连通性"></center>
</li>
<li><p>bj-other-A访问FTP（192.168.1.146）理论上应该是可以，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/bj-other-A访问FTP.png" alt="bj-other-A访问FTP"></center>
</li>
<li><p>bj-other-A访问Web（192.168.1.142）理论上不可访问，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/bj-other-A访问Web结果.png" alt="bj-other-A访问Web结果"></center>
</li>
<li><p>bj-other-B访问FTP（192.168.1.146）理论上拒绝访问，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/bj-other-B访问FTP.png" alt="bj-other-B访问FTP"></center>
</li>
<li><p>bj-admin-A使用ping测试与Web服务器连通性，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/bj-admin-A与Web的ping测试.png" alt="bj-admin-A与Web的ping测试"></center>
</li>
<li><p>bj-other-A使用ping测试与Web服务器连通性，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/bj-other-A与Web的ping测试.png" alt="bj-other-A与Web的ping测试"></center>
</li>
<li><p>bj-other-B访问Web（<code>www.bihuo.com</code>），操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/bj-other-B访问web.png" alt="bj-other-B访问web"></center>
</li>
<li><p>tj-admin-A使用telnet连接tj-sw-zuo，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/tj-admin-A远程管理tj-sw-zuo.png" alt="tj-admin-A远程管理tj-sw-zuo"></center>
</li>
<li><p>VLAN200内主机访问ISP的Web和DNS，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/vlan200主机访问web.png" alt="vlan200主机访问web"></center>
</li>
<li><p>vlan300主机访问<code>www.bihuo.com</code>，操作结果如下图所示。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/vlan300访问web.png" alt="vlan300访问web"></center>
</li>
<li><p>tj-other-A使用ping测试与Web的连通性。</p>
<center><img src="https://gitee.com/jixiansiwei/ImagesBed/raw/master/Network/Configuration/ComExperiment2/tj-other-A的ping测试.png" alt="tj-other-A的ping测试"></center>



</li>
</ol>
<h1 id="实验总结"><a href="#实验总结" class="headerlink" title="实验总结"></a>实验总结</h1><ul>
<li>配置比较复杂的实验时，首先应该配置基础的网络环境，先保证整个网络的连通性，接着再将各部分要求依次添加，最后设置各部分的ACL。</li>
<li>配置访问控制列表时要注意整合所有要求尽量使用最简的方式实现ACL，注意ACL条目的顺序和ACL应该的接口位置，都可能影响ACL的应用结果。</li>
</ul>
<h1 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h1><p>配置脚本：</p>
<pre class=" language-shell"><code class="language-shell">大型综合实验

1.设备命名
2.子网划分
3.基础网络配置
    -> ip
    -> vlan
    -> route

===========================================
==============网络基础配置===================
===========================================

==============tj-sw-zuo====================
en
conf t
no ip domain-lookup
line console 0
exec-timeout 0 0
logging syn
exit
hostname tj-sw-zuo
vlan 100
name tj-other
vlan 200
name tj-server
vlan 300
name tj-admin
exit
int f0/1
switchport mode trunk
int f0/2
switchport mode access
switchport access vlan 100
int f0/3
switchport mode access
switchport access vlan 200
int range f0/4-5
switchport mode trunk
channel-group 1 mode on


==============tj-sw-you====================
en
conf t
no ip domain-lookup
line console 0
exec-timeout 0 0
logging syn
exit
hostname tj-sw-you
vlan 100
name tj-other
vlan 200
name tj-server
vlan 300
name tj-admin
exit
int f0/1
switchport mode access
switchport access vlan 100
int f0/2
switchport mode access
switchport access vlan 300
int range f0/3-4
switchport mode trunk
channel-group 1 mode on

==============tj-R=======================
en
conf t
no ip domain-lookup
line console 0
exec-timeout 0 0
logging syn
exit
hostname tj-R
int f0/1.1
encapsulation dot1Q 100
ip add 192.168.1.49 255.255.255.240
no sh
int f0/1.2
encapsulation dot1Q 200
ip add 192.168.1.65 255.255.255.240
no sh
int f0/1.3
encapsulation dot1Q 300
ip add 192.168.1.81 255.255.255.240
no sh
int f0/1
no sh
int s1/0
ip add 192.168.1.226 255.255.255.240
no sh
exit
ip dhcp pool tj-vlan100
network 192.168.1.48 255.255.255.240
default-router 192.168.1.49
dns-server 192.168.1.141
exit
ip dhcp excluded-address 192.168.1.49 192.168.1.52
ip dhcp pool tj-vlan200
network 192.168.1.64 255.255.255.240
default-router 192.168.1.65
dns-server 192.168.1.141
exit
ip dhcp excluded-address 192.168.1.65 192.168.1.65
ip dhcp pool tj-vlan300
network 192.168.1.80 255.255.255.240
default-router 192.168.1.81
dns-server 192.168.1.141
exit
ip dhcp excluded-address 192.168.1.81 192.168.1.81
route rip
version 2
no auto-summary 
network 192.168.1.48
network 192.168.1.64
network    192.168.1.80
network 192.168.1.224

==================ISP-B===============
en
conf t
no ip domain-lookup
line console 0
exec-timeout 0 0
logging syn
exit
hostname ISP-B
int f0/0
ip add 192.168.1.242 255.255.255.240
no sh
int f0/1
ip add 192.168.1.194 255.255.255.240
no sh
int s1/0
ip add 192.168.1.225 255.255.255.240
clock rate 9600
no sh
route rip
version    2
no auto-summary 
network 192.168.1.224
network 192.168.1.240
network 192.168.1.192

==================ISP-B-DHCP-server======
en
conf t
no ip domain-lookup
line console 0
exec-timeout 0 0
logging syn
exit
hostname ISP-B-DHCP-server
ip routing
int f0/3
no switchport
ip add 192.168.1.193 255.255.255.240
no sh
int vlan 1
ip add 192.168.1.145 255.255.255.240
no sh
exit
ip dhcp pool ISP-B-pool
network 192.168.1.144 255.255.255.240
default-router 192.168.1.145
dns-server 192.168.1.141
exit
ip dhcp excluded-address 192.168.1.145 192.168.1.146
route rip
version 2
no auto-summary
network 192.168.1.192
network 192.168.1.144

=================ISP-A==================
en
conf t
no ip domain-lookup
line console 0
exec-timeout 0 0
logging syn
exit
hostname ISP-A
int f0/1
ip add 192.168.1.241 255.255.255.240
no sh
int f0/0
ip add 192.168.1.129 255.255.255.240
no sh
int s1/0
ip add 192.168.1.210 255.255.255.240
clock rate 9600
no sh
route rip
version 2
no auto-summary
network 192.168.1.240
network 192.168.1.128
network 192.168.1.208

==================bj-R==================
en
conf t 
no ip domain-lookup
line console 0
exec-timeout 0 0
logging syn
exit
hostname bj-R
int s1/0
ip add 192.168.1.209 255.255.255.240
no sh
int f0/0
ip add 192.168.1.162 255.255.255.240
no sh
int f0/1
ip add 192.168.1.178 255.255.255.240
no sh
exit
route rip
version 2
no auto-summary
network 192.168.1.208
network 192.168.1.160
network 192.168.1.176

===================3sw-zuo================
en
conf t 
no ip domain-lookup
line console 0
exec-timeout 0 0
logging syn
exit
hostname 3sw-zuo
vlan 10
name bj-admin
vlan 20
name bj-other
vlan 100
name DMZ-server
exit
ip routing
int range f0/1-3
switchport trunk encapsulation dot1Q
switchport mode trunk
int f0/4
no switchport
ip add 192.168.1.161 255.255.255.240
no sh
int vlan 10
ip add 192.168.1.2 255.255.255.240
no sh
ip helper-address 192.168.1.46
int vlan 20
ip add 192.168.1.18 255.255.255.240
no sh
ip helper-address 192.168.1.46
int vlan 100
ip add 192.168.1.34 255.255.255.240
no sh
ip helper-address 192.168.1.46
exit
route rip
version 2
no auto-summary
network 192.168.1.0
network 192.168.1.16
network 192.168.1.32
network 192.168.1.160
spanning-tree vlan 10 root primary
spanning-tree vlan 20 root secondary
spanning-tree vlan 100 root primary
int vlan 10 
standby 10 ip 192.168.1.1
standby 10 priority 105
standby 10 preempt
standby 10 track f0/4
int vlan 20
standby 20 ip 192.168.1.17
standby 20 priority 100
standby 20 preempt
standby 20 track f0/4
int vlan 100
standby 100 ip 192.168.1.33
standby 100 priority 105
standby 100 preempt
standby 100 track f0/4


=================3sw-you===========

en
conf t 
no ip domain-lookup
line console 0
exec-timeout 0 0
logging syn
exit
hostname 3sw-you
vlan 10
name bj-admin
vlan 20
name bj-other
vlan 100
name DMZ-server
exit
ip routing
int range f0/1-3
switchport trunk encapsulation dot1Q
switchport mode trunk
int f0/4
no switchport
ip add 192.168.1.177 255.255.255.240
no sh
int vlan 10
ip add 192.168.1.3 255.255.255.240
no sh
ip helper-address 192.168.1.46
int vlan 20
ip add 192.168.1.19 255.255.255.240
no sh
ip helper-address 192.168.1.46
int vlan 100
ip add 192.168.1.35 255.255.255.240
no sh
ip helper-address 192.168.1.46
exit
route rip
version 2
no auto-summary
network 192.168.1.0
network 192.168.1.16
network 192.168.1.32
network 192.168.1.176
spanning-tree vlan 10 root secondary
spanning-tree vlan 20 root primary
spanning-tree vlan 100 root secondary
int vlan 10 
standby 10 ip 192.168.1.1
standby 10 priority 100
standby 10 preempt
standby 10 track f0/4
int vlan 20
standby 20 ip 192.168.1.17
standby 20 priority 105
standby 20 preempt
standby 20 track f0/4
int vlan 100
standby 100 ip 192.168.1.33
standby 100 priority 100
standby 100 preempt
standby 100 track f0/4


===============2sw-zuo===============

en
conf t 
no ip domain-lookup
line console 0
exec-timeout 0 0
logging syn
exit
hostname 2sw-zuo
vlan 10
name bj-admin
vlan 20
name bj-other
vlan 100
name DMZ-server
exit
int f0/1
switchport mode access
switchport access vlan 100
int f0/2
switchport mode access
switchport access vlan 10
int f0/3
switchport mode access
switchport access vlan 20
int range f0/4-5
switchport mode trunk

==============2sw-you===============

en
conf t 
no ip domain-lookup
line console 0
exec-timeout 0 0
logging syn
exit
hostname 2sw-you
vlan 10
name bj-admin
vlan 20
name bj-other
vlan 100
name DMZ-server
exit
int f0/1
switchport mode access
switchport access vlan 10
int f0/2
switchport mode access
switchport access vlan 20
int range f0/3-4
switchport mode trunk

4.远程管理配置
===========================================
==============远程管理配置===================
===========================================


=================tj-sw-zuo=================
en
conf t
enable pass cisco
int vlan 100
ip add 192.168.1.50 255.255.255.240
no sh
exit
ip default-gateway 192.168.1.49
line vty 0 4
pass cisco
login
exit


=================tj-sw-you=================
en
conf t
enable pass cisco
int vlan 100
ip add 192.168.1.51 255.255.255.240
no sh
exit
ip default-gateway 192.168.1.49
line vty 0 4
pass cisco
login
exit

==================tj-R==================
en
conf t 
enable pass cisco
ip domain-name cisco.com
crypto key generate rsa general-keys modulus 1024
username admin password cisco
ip ssh version 2
ip ssh time-out 120
ip ssh authentication-retries 3
line vty 0 4
transport input ssh
login local

==================bj-R=================

en
conf t 
enable pass cisco
ip domain-name cisco.com
crypto key generate rsa general-keys modulus 1024
username admin password cisco
ip ssh version 2
ip ssh time-out 120
ip ssh authentication-retries 3
line vty 0 4
transport input ssh
login local

==================3sw-zuo==============

en
conf t 
enable pass cisco
ip domain-name cisco.com
crypto key generate rsa general-keys modulus 1024
username admin password cisco
ip ssh version 2
ip ssh time-out 120
ip ssh authentication-retries 3
line vty 0 4
transport input all
login local

===================3sw-you================

en
conf t 
enable pass cisco
ip domain-name cisco.com
crypto key generate rsa general-keys modulus 1024
username admin password cisco
ip ssh version 2
ip ssh time-out 120
ip ssh authentication-retries 3
line vty 0 4
transport input all
login local


5.ACL配置
===========================================
=================ACL配置====================
===========================================

================tj-sw-zuo(you)======================

access-list 10 permit 192.168.1.80 0.0.0.15
line vty 0 4
access-class 10 in

================tj-R=======================
ip access-list extended tj-ACL-ISP
deny tcp 192.168.1.64 0.0.0.15 host 192.168.1.142 eq 80
deny udp 192.168.1.64 0.0.0.15 host 192.168.1.141 eq 53
permit tcp 192.168.1.64 0.0.0.15 host 192.168.1.146 eq 21
permit tcp 192.168.1.80 0.0.0.15 host 192.168.1.142 eq 80
permit tcp 192.168.1.80 0.0.0.15 host 192.168.1.141 eq 53
permit tcp 192.168.1.80 0.0.0.15 host 192.168.1.146 eq 21
permit icmp host 192.168.1.54 host 192.168.1.142 echo
permit icmp host 192.168.1.54 host 192.168.1.141 echo
deny tcp host 192.168.1.54 any
permit ip any any
exit
int s1/0
ip access-group tj-ACL-ISP out 

======================bj-R===================
ip access-list extended bj-ACL-ISP
permit ip 192.168.1.0 0.0.0.15 any
permit tcp host 192.168.1.22 host 192.168.1.146 eq 21
deny tcp host 192.168.1.22 host 192.168.1.142 eq 80
deny tcp host 192.168.1.24 host 192.168.1.146 eq 21
permit icmp 192.168.1.0 0.0.0.15 host 192.168.1.142
permit icmp 192.168.1.0 0.0.0.15 host 192.168.1.141
permit icmp 192.168.1.0 0.0.0.15 host 192.168.1.146
deny icmp any host 192.168.1.142
deny icmp any host 192.168.1.141
deny icmp any host 192.168.1.146
permit udp 192.168.1.0 0.0.0.15 host 192.168.1.141 eq 53
permit udp 192.168.1.16 0.0.0.15 host 192.168.1.141 eq 53
permit ip any any
exit
int s1/0
ip access-group bj-ACL-ISP out</code></pre>
<ul>
<li><p>PKT文件获取方式：链接：<a href="https://pan.baidu.com/s/1tbpxMZ0qowYvPPcVQt-EaQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1tbpxMZ0qowYvPPcVQt-EaQ</a> 提取码：zmeo </p>
</li>
<li><p><font color="blue">由于PT中做DHCP无法为主机预分配地址，在做ACL配置的要注意动态获取的IP，即使时相同拓扑打开之后自动获取的IP信息也不一样，因此建议修改ACL配置脚本后重新设置ACL.</font></p>
</li>
</ul>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://z1r0s.github.io" rel="external nofollow noreferrer">z1r0s</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://z1r0s.github.io/2020/11/29/wang-luo-pei-zhi-zhi-da-xing-zong-he-shi-yan-2/">https://z1r0s.github.io/2020/11/29/wang-luo-pei-zhi-zhi-da-xing-zong-he-shi-yan-2/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by-nc/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY-NC 4.0</a>
                    许可协议。转载请注明来源
                    <a href="https://z1r0s.github.io" target="_blank">z1r0s</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/网络实验/">
                                    <span class="chip bg-color">网络实验</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.png" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    
        <style>
    .mvaline-card {
        margin: 1.5rem auto;
    }

    .mvaline-card .card-content {
        padding: 20px 20px 5px 20px;
    }
</style>

<div class="card mvaline-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="mvcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="/libs/minivaline/MiniValine.js"></script>
<script>
    new MiniValine({
        el: '#mvcomments',
        appId: 'rr4jTLi2BJEgTziWjmGxpu1a-MdYXbMMI',
        appKey: 'aFRDmu52XNOUP0PyGNjjzDCQ',
        mode: 'DesertsP',
        placeholder: 'Write a Comment',
        pathname: window.location.pathname,
        lang: '',
        adminEmailMd5: 'de8a7aa53d07e6b6bceb45c64027763d',
        tagMeta: ["管理员", "小伙伴", "访客"],
        master: ["de8a7aa53d07e6b6bceb45c64027763d"],
        friends: ["b5bd5d836c7a0091aa8473e79ed4c25e", "adb7d1cd192658a55c0ad22a3309cecf", "3ce1e6c77b4910f1871106cb30dc62b0", "cfce8dc43725cc14ffcd9fb4892d5bfc"],
        math: true,
        md: true,
        enableQQ: false,
        NoRecordIP: false,
        visitor: true,
        maxNest: 6,
        pageSize: 6,
        serverURLs: '',
        emoticonUrl: ["https://cdn.jsdelivr.net/npm/alus@latest", "https://cdn.jsdelivr.net/gh/MiniValine/qq@latest", "https://cdn.jsdelivr.net/gh/MiniValine/Bilibilis@latest", "https://cdn.jsdelivr.net/gh/MiniValine/tieba@latest", "https://cdn.jsdelivr.net/gh/MiniValine/twemoji@latest", "https://cdn.jsdelivr.net/gh/MiniValine/weibo@latest"],
    });
</script>

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/11/29/chang-jian-wang-luo-xie-yi-zheng-li/">
                    <div class="card-image">
                        
                        <img src="/medias/featureimages/16.jpg" class="responsive-img" alt="常见网络协议整理">
                        
                        <span class="card-title">常见网络协议整理</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-11-29
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/网络运维/" class="post-category">
                                    网络运维
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/网络协议/">
                        <span class="chip bg-color">网络协议</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/11/28/quan-xian-wei-chi-zhi-ying-zi-zhang-hu/">
                    <div class="card-image">
                        
                        <img src="/medias/featureimages/44.jpg" class="responsive-img" alt="权限维持之影子账户">
                        
                        <span class="card-title">权限维持之影子账户</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-11-28
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/渗透测试/" class="post-category">
                                    渗透测试
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/后渗透/">
                        <span class="chip bg-color">后渗透</span>
                    </a>
                    
                    <a href="/tags/权限维持/">
                        <span class="chip bg-color">权限维持</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('10')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: z1r0s&#39;blogs<br />'
            + '文章作者: z1r0s<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h1,h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1,h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>



    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="tencent"
                   type="playlist"
                   id="7173532278"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2020</span>
            
            <span id="year">2020</span>
            <a href="/about" target="_blank">z1r0s</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">239.9k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/z1r0s" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:2603350388@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2603350388" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2603350388" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    

</body>

</html>
